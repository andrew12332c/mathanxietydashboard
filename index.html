<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Anxiety & AI Usage Research Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Math Anxiety & AI Usage Research Dashboard</h1>
            <p class="subtitle">Exploring the relationship between math anxiety and AI tutoring usage</p>
            <p class="credits">
                Dashboard created by <a href="https://www.linkedin.com/in/andrew-zhanger/" target="_blank" rel="noopener">Andrew Zhang</a>, 
                part of the <a href="https://www.etclab.info/" target="_blank" rel="noopener">ETC Lab</a> at UC Irvine
                <br>
                Presented at the <a href="https://uciurop.infoready4.com/#learnMore/29117" target="_blank" rel="noopener">UCI Undergraduate Research Symposium</a>
                <br>
                Part of a larger research study on AI tutoring systems and student anxiety
            </p>
        </header>

        <nav class="tab-nav">
            <button type="button" class="tab-btn active" data-tab="current">2025 Dashboard</button>
            <button type="button" class="tab-btn" data-tab="prd2026">Math Anxiety 2026 AI Results</button>
        </nav>

        <section id="tab-current" class="tab-panel active">
        <div class="info-panel">
            <div class="info-card">
                <h3>Research Questions</h3>
                <ul>
                    <li>Does AI usage reduce state anxiety during math tasks?</li>
                    <li>Do high-anxiety students benefit more from AI tutors?</li>
                    <li>What's the relationship between trait vs. state anxiety?</li>
                    <li>How does AI usage correlate with math performance?</li>
                </ul>
            </div>
            <div class="info-card">
                <h3>Key Metrics</h3>
                <div id="stats" class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-value" id="totalParticipants">-</div>
                        <div class="stat-label">Participants</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="avgStateAnxiety">-</div>
                        <div class="stat-label">Avg State Anxiety</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="avgTraitAnxiety">-</div>
                        <div class="stat-label">Avg Trait Anxiety</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="avgMathScore">-</div>
                        <div class="stat-label">Avg Math Score</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls-panel">
            <h3>Interactive Controls</h3>
            <div class="controls">
                <div class="control-group">
                    <label for="anxietyFilter">Anxiety Level:</label>
                    <select id="anxietyFilter">
                        <option value="all">All Levels</option>
                        <option value="low">Low Anxiety (≤ 3)</option>
                        <option value="high">High Anxiety (> 3)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="genderFilter">Gender:</label>
                    <select id="genderFilter">
                        <option value="all">All Genders</option>
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="control-group">
                    <button id="resetBtn" class="btn-primary">Reset Filters</button>
                </div>
            </div>
        </div>

        <div class="viz-grid">
            <div class="viz-card">
                <h3>Trait Anxiety vs State Anxiety</h3>
                <p class="viz-description">Does baseline math anxiety predict stress during tasks?</p>
                <canvas id="traitStateChart"></canvas>
            </div>

            <div class="viz-card">
                <h3>Math Anxiety by Academic Level</h3>
                <p class="viz-description">How does anxiety vary across year in school?</p>
                <canvas id="anxietyByLevelChart"></canvas>
            </div>

            <div class="viz-card">
                <h3>State Anxiety Distribution</h3>
                <p class="viz-description">How anxious were students during the math task?</p>
                <canvas id="stateDistributionChart"></canvas>
            </div>

            <div class="viz-card">
                <h3>Trust in AI vs Math Anxiety</h3>
                <p class="viz-description">Do anxious students trust AI more or less?</p>
                <canvas id="trustChart"></canvas>
            </div>

            <div class="viz-card full-width">
                <h3>Distribution: Trait Anxiety Scores</h3>
                <p class="viz-description">Overall distribution of math anxiety in the sample</p>
                <canvas id="distributionChart"></canvas>
            </div>

            <div class="viz-card full-width">
                <h3>Interactive Scatter: Math Score vs Anxiety (Hover for details)</h3>
                <p class="viz-description">Each dot is a student - AI users in blue, non-users in orange</p>
                <div id="scatterPlot"></div>
            </div>
        </div>

        <div class="insights-panel">
            <h3>Key Findings</h3>
            <div id="insights" class="insights-grid">
                <!-- Dynamically filled by JS -->
            </div>
        </div>

        <footer>
            <p>Research Dashboard - Math Anxiety & AI Tutoring Study - 2025</p>
        </footer>
        </section>

        <section id="tab-prd2026" class="tab-panel">
            <div class="prd2026-header">
                <h2>AI & Math Anxiety Winter 2026 Predictions</h2>
                <p class="prd-subtitle">AI-Enhanced Math Anxiety (MA) Dashboard — Trait vs. State MA, buffering effect, and interaction analysis</p>
                <div class="prd-legend">
                    <span class="legend-item legend-ai"><span class="legend-swatch"></span> Blue: Used AI to review</span>
                    <span class="legend-item legend-control"><span class="legend-swatch"></span> Red: Paper/Review sheet (control)</span>
                </div>
            </div>

            <div class="prd2026-controls">
                <h3>Group Toggle</h3>
                <div class="prd-controls-inner">
                    <label><input type="checkbox" id="prd-show-ai" checked> Show AI review (Blue)</label>
                    <label><input type="checkbox" id="prd-show-control" checked> Show Paper/Review sheet (Red)</label>
                </div>
            </div>

            <div class="prd2026-stats">
                <div class="stat-box prd-stat">
                    <div class="stat-value" id="prd-buffering-coef">-</div>
                    <div class="stat-label">Buffering Coefficient (%)</div>
                </div>
                <div class="stat-box prd-stat">
                    <div class="stat-value" id="prd-n-experimental">-</div>
                    <div class="stat-label">Experimental (AI Tutor) n</div>
                </div>
                <div class="stat-box prd-stat">
                    <div class="stat-value" id="prd-n-control">-</div>
                    <div class="stat-label">Control n</div>
                </div>
            </div>

            <div class="prd2026-viz-grid">
                <div class="viz-card full-width">
                    <h3>A. Baseline Correlation Plot</h3>
                    <p class="viz-description"><strong>Blue points</strong> = participants who used AI to review; <strong>red points</strong> = paper/review sheet (control). Trait MA (baseline) vs. State MA (Week 4 assessment). Before manipulation, both groups follow the same upward trend (r ≈ .30).</p>
                    <div class="chart-wrap">
                        <canvas id="prd-baseline-correlation"></canvas>
                    </div>
                </div>

                <div class="viz-card">
                    <h3>B1. Post-Event Rumination</h3>
                    <p class="viz-description">AI tutor buffers negative thoughts; control shows deeper negative rumination.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-rumination-bars"></canvas>
                    </div>
                </div>
                <div class="viz-card">
                    <h3>B2. Post-Event Physiological Recovery</h3>
                    <p class="viz-description">AI Tutor group shows higher physiological recovery; control lower.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-recovery-bars"></canvas>
                    </div>
                </div>

                <div class="viz-card full-width">
                    <h3>Time-Series: State MA (T2 → T3)</h3>
                    <p class="viz-description">Steeper recovery slope for AI Tutor users.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-timeseries-state-ma"></canvas>
                    </div>
                </div>

                <div class="viz-card">
                    <h3>C1. State MA vs. Rumination (Interaction)</h3>
                    <p class="viz-description">AI Tutor line flatter: high State MA does not spiral into negative rumination.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-interaction-rumination"></canvas>
                    </div>
                </div>
                <div class="viz-card">
                    <h3>C2. State MA vs. Physiological Recovery (Interaction)</h3>
                    <p class="viz-description">AI Tutor line higher: buffering against physical toll of anxiety.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-interaction-recovery"></canvas>
                    </div>
                </div>

                <div class="viz-card full-width">
                    <h3>Rumination Scale</h3>
                    <p class="viz-description">Distribution from negative to positive/neutral thoughts by condition.</p>
                    <div class="chart-wrap">
                        <canvas id="prd-rumination-scale"></canvas>
                    </div>
                </div>
            </div>

            <footer>
                <p>Math Anxiety 2026 AI Results — PRD: AI-Enhanced Math Anxiety Dashboard</p>
            </footer>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
